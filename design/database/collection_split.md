# DB コレクション分割

## 概要
DBにおけるコレクション分割方式の適用範囲と適用方法にかんする記述

## 情報
  * 設計書作成日時
    - 2017/06/16
  * 設計書作成者
    - RS
  * 実装環境
    - nedb
  * 実装先ブランチ
    - `database`
  * 実装先
    - `nedb_module/`
  * 重要度
    - 中

## 設計

### データ受取方法, 受渡し方法, etc.
* `clips`を分割元としてこの`_id`をキーとする
* `YYYYMM`(クリップ作成日時)を分割先として分割元のドキュメントから`tile`要素を切り出す
  - `cid`をキーとする
* `_id`と`cid`をもとに`YYYYMM`にタイル情報を保持させる

### 主なプロセス
* `_id`と`cid`をキーとして`clips`にデータを連結して出力
* サーバ側は`YYYYMM`のインスタンスを`clip`のget, setメソッドが実行された時点で作成

### メソッド(関数)
* set_clip()
* get_clip()

### フィールド(変数)
* なし(jsに各種)

## 備考
* `YYYYMM`の日時はあくまで`clips`初期の作成日時であり日時の変更によらず固定

